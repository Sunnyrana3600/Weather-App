(()=>{"use strict";window.addEventListener("load",(e=>{(()=>{const e=document.querySelector(".search-bar");let t=document.querySelector(".location-name"),n=document.querySelector(".weather-information"),o=new google.maps.places.Autocomplete(e,{types:["(cities)"]});google.maps.event.addListener(o,"place_changed",(()=>{const r=o.getPlace();if(null==r)return;let a=r.geometry.location.lat(),c=r.geometry.location.lng();t.innerHTML=e.value,e.value="",n.classList.remove("weather-information"),n.classList.add("weather-info-show"),async function(e,t){const n={lat:e,lng:t};let o=await fetch("http://localhost:8080/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({geoCode:n})});!function(e){let t=document.querySelector(".condition"),n=document.querySelector(".current-temp"),o=document.querySelector(".high"),r=document.querySelector(".low"),a=document.querySelector("img");t.innerHTML=e.weather[0].main;let c=`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`;a.src=c,n.innerHTML=`Current: ${Math.round(e.main.temp)}°`,o.innerHTML=`High: ${Math.round(e.main.temp_max)}°`,r.innerHTML=`Low: ${Math.round(e.main.temp_min)}°`,console.log(e)}(await o.json())}(a,c)}))})()}))})();